<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
  Registro Individual
  <small>Visitas</small>
  </h1>
  <ol class="breadcrumb">
  <li><a href="/#/dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
  <li class="active">Registro Individual</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <!-- left column -->
            <div class="col-md-6">
            <!-- general form elements disabled -->
               <div class="box box-warning">
                 <div class="box-header with-border">
                   <h3 class="box-title">Formulario de Visitas</h3>
                   <small>(*) campos obligatorios.</small>
                 </div><!-- /.box-header -->
                 <div class="box-body">
                     <form role="form" name="searchEmployeeForm" onsubmit="return false;">
                        <div class="form-group">
                            <div class="input-group">
                            <label>Nombre Completo de la visita*</label><br>
                              <input type="text" name="peolpleId" ng-model="employee.fullname" class="form-control" placeholder="Nombre Visita" required>
                              <label>RUT de la visita*</label><br>
                              <input type="text" name="visit_RUT" ng-model="employee.people_run" class="form-control" placeholder="RUT Visita" required>
                               <label>Nombre de Empresa de Origen*</label><br>
                              <input type="text" name="visita_company_name" ng-model="employee.company" class="form-control" placeholder="Nombre de la compañía de origen de la visita" required>
                              <label>RUT de compañía de origen de la visita*</label><br>
                              <input type="number" name="visit_company_id" ng-model="employee.company_code" class="form-control" placeholder="RUT de la compañía de origen de la visita" required>
                            </div>
                       </div>
                    </form>

                    <form role="form" name="employeeForm" ng-submit="addEmployee()">
                       <div class="form-group"
                            ng-class="{'has-error': employeeForm.fullname.$invalid && employeeForm.fullname.$dirty}">



                           <div class="form-group" show-errors='{ showSuccess: true }'>
                             <label>Tipo de registro *</label><br >

                             <input type="checkbox" ng-model="employee.is_input" bs-switch id="cheboxConflictivo"
                                data-toggle="toggle"
                                data-on-text="Entrada"
                                data-off-text="Salida"
                                name="my-checkbox"
                                data-on-color="success"
                                data-off-color="danger"
                                ng-true-value="true"
                                ng-False-value="false"
                                >
                              <br>
                              <br>
                           </div>

                          <label ng-show="employee.is_input">Destino *</label>
                         <select class="form-control" ng-model="employee.selectedOptionLocations" ng-options="place.name for place in places" ng-show="employee.is_input"></select>
                          <label>¿La visita utiliza vehículo?</label>
                          <input type="checkbox" name="checkbox1" ng-model="employee.checkboxCar">
                          <!--Div that show or hide the car information -->
                          <div ng-show="employee.checkboxCar">
                          <div class="form-group" show-errors='{ showSuccess: true }' ng-show="employee.is_input">
                             <label>Patente de entrada</label>
                             <input type="text" class="form-control" placeholder="Patente Entrada" ng-model="employee.input_patent" ng-Change="inputParkingCheck()">
                             <br>
                            <label>Tipo de Patente de Entrada</label >
                             <select class="form-control" ng-model="employee.selectedOptionVehicleTypes" ng-options="vehicleType.name for vehicleType in vehicleTypes" ng-disabled="employee.unselectParking"></select>
                          </div>



                          <div class="form-group" show-errors='{ showSuccess: true }' ng-show="!employee.is_input">
                             <label>Patente de salida</label>
                             <input type="text" class="form-control" placeholder="Patente Salida" ng-model="employee.output_patent" ng-Change="outputParkingCheck()">
                             <br>
                            <label>Tipo de Patente de Salida</label >
                             <select class="form-control" ng-model="employee.selectedOptionVehicleTypes" ng-options="vehicleType.name for vehicleType in vehicleTypes" ng-disabled="employee.unselectParking"></select>
                          </div>

                            <label ng-show="employee.is_input">Estacionamiento</label >
                             <select class="form-control" ng-model="employee.selectedOptionParkings" ng-options="parking.name for parking in parkings" ng-disabled="employee.unselectParking" ng-show="employee.is_input"></select>
                          </div>
<!--
                           <div class="form-group">
                             <label>Autorizado por</label>
                             <input type="text" class="form-control" placeholder="Nombre Completo" ng-model="employee.authorized_by" required>
                           </div>
-->
                           <div class="form-group">
                           <label>Autorizado por:</label >
                            <input type="text" name="authorized" ng-model="employee.authorized_by" class="form-control" placeholder="Nombre de la persona que autoriza la visita" required>
                           </div>
                      </div>
                     <button type="button" class="btn btn-primary" ng-click="employee.addEmployee()">Registrar</button>
                     <br><br>
                     <div class="alert alert-success" ng-show="is_saved">
                        <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>
                        <h4><i class="icon fa fa-check"></i> ENHORABUENA!</h4>
                        Visita registrada con exito.
                     </div>
                   </form>
                 </div><!-- /.box-body -->
               </div><!-- /.box -->
             </div><!--/.col (right) -->
        </div>
      </div>
  </div><!-- /.row -->
</section><!-- /.content -->

<script type="text/javascript">
$(document).ready(function () {

window.setTimeout(function() {
$(".alert").fadeTo(1000, 0).slideUp(500, function(){
    $(this).remove();
});
}, 3000);

});
</script>
