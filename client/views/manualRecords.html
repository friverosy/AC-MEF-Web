<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
	Listado cierre de turno
  </h1>
  <ol class="breadcrumb">
	<li><a href="/#/dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
	<li class="active">Registros Manuales</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-xs-12">
          <div class="box">
            <div class="box-body">
                <ul class="nav nav-tabs">
                    <li><a href ng-click="eventDateFilter('today')">Hoy</a></li>
            		<li><a href ng-click="eventDateFilter('pastWeek')">7 días</a></li>
                    <li><a href ng-click="eventDateFilter('pastMonth')">30 días</a></li>
            		<li><a href ng-click="eventDateFilter('all')">Todos</a></li>
                  <li class="pull-right"><a href="/#/employees" class="text-muted"><i class="fa fa-refresh"></i></a></li>
                </ul>
              <table id="example2" class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>Rut</th>
                        <th class="fullname">Nombre</th>
                        <th class="department">Departamento</th>
                        <th class="datetime">Entrada</th>
                        <th>Patente</th>
                        <th>Vehiculo</th>
                        <th>Perfil</th>
                        <th>Opción</th>
                      </tr>
                </thead>
                <tbody>
                    <tr dir-paginate="record in manualrecords | filter: filterByDate(input_datetime) | filter: searchKeyword | orderBy: '-input_datetime' | itemsPerPage:15">
                      <td class="text-green">
                        <strong>{{record.run}}<sup ng-if="record.blacklist" class="text-red">*</sup></strong>
                      </td>
                        <td>{{record.fullname}}</td>
                        <td>{{record.place}}</td>
                        <td ng-if="record.input_datetime == false" class="text-red">No registrado</td>
                        <td ng-if="record.input_datetime != false">{{record.input_datetime | date:'dd/MM HH:mm:ss'}}</td>
                        <td><input type="text" ng-model="record.input_patent" ng-change="update(record)" placeholder="__.__.__" class="form-control"></td>
                        <td>
                            <select
                                ng-if="record.input_patent != undefined"
                                ng-model="record.input_patent_type"
                                ng-options="type.id as type.name for type in vehicleTypes"
                                ng-change="update(record)"
                            ></select>
                        </td>
                        <td>
                					<span ng-if="record.profile == 'V'" class="label label-warning label-mini">Visita</span>
                					<span ng-if="record.profile == 'E'" class="label label-success label-mini">Empleado</span>
                          <span ng-if="record.profile == 'C'" class="label label-warning label-mini">Contratista</span>
                				</td>
                        <td><a class="glyphicon glyphicon glyphicon-ok"  ng-click="updateManualRecord(record)"></a></td>
                    </tr>
                </tbody>
              </table>
              <dir-pagination-controls
                 max-size="15"
                 direction-links="true"
                 boundary-links="true" >
              </dir-pagination-controls>
            </div><!-- /.box-body -->
          </div><!-- /.box -->
      </div>
  </div><!-- /.row -->
</section><!-- /.content -->
